---
title: "MCI Specification Registry"
---

Model-to-Service interaction within MCI relies on **Specifications**:
blueprints defining the structure, behavior, and data schemas for interactions
between MCI and external tools. To manage these documents at scale, MCI
utilizes the **Specification Registry**.

### What is the MCI Specification Registry?

The MCI Specification Registry is a centralized, community-driven "source of
truth." It serves as a public repository for developers to host, version, and
share specifications, and a distribution point for users to install the
extensions required for MCI-driven automation.

### Why a Specification Registry?

The registry provides a standardized framework for developers and users:

- **Centralized Discovery:** Acts as a standalone source of truth, eliminating
  the need to search through scattered repositories or private links.
- **Provenance and Trust:** Offers visible version history and publisher
  metadata, allowing users to evaluate the maturity and origin of a
  specification.
- **Collaborative Governance:** Enables community review. Specifications can be
  publicly flagged, reported, or improved.
- **Safe Experimentation:** Allows experimental specifications to coexist with
  stable versions through clear maturity signaling.
- **Tooling Integration:** Enables CI/CD workflows to programmatically fetch,
  validate, and integrate specifications.
- **Interoperability:** Ensures independent systems share explicit assumptions
  by drawing from a unified registry, reducing the need for manual coordination.

### How It Works

The registry records metadata about specification files to make them
discoverable and retrievable.

### Principal Model

Each registry entry represents a single specification pointing to a
downloadable document. To be recognized by MCI, an entry must contain:

1. **Identifier:** A unique ID or namespace for unambiguous referencing.
2. **Document Reference:** A stable link or pointer to the downloadable file.
3. **Specification Type:** The format (e.g., `OpenAPI`, `OpenRPC`, `AsyncAPI`),
  which dictates how MCI interprets the document.
4. **Description:** A concise explanation of the specificationâ€™s purpose.

The registry's core functionality is restricted to two operations: **Publish**
(`POST`) and **Fetch** (`GET`).

### Usage Profile

To consume a specification, MCI is provided with a path or URL resolving to a
registry entry. MCI retrieves the metadata, downloads the document, and stores
a local copy.

- **Uniqueness:** MCI assumes identifiers are globally unique. If a conflict
  occurs, MCI returns an error. Users may provide a custom local identifier at
  the point of consumption to resolve naming collisions.
- **Minimalism:** MCI ignores any registry-specific metadata not required for
  interpretation or retrieval.
- **Immutability:** Once retrieved, a specification is treated as immutable.
  MCI does not track updates; changes require an explicit re-fetch.

### API Reference

The registry exposes a lightweight API for the publication and retrieval of
specification entries.

### 1. Publish Specifications

Authenticated clients publish specifications via `POST`. This creates a new
entry or adds a version to an existing one.

- **Endpoint:** `POST /specs`
- **Authentication:** Requires a Bearer token in the `Authorization` header.
- **Request Schema:**

```tsx
export interface PublishRequest {
  id: string;
  type: string;
  description: string;
  spec_file: File; // Encoded content
}
```

- **Response Schema:** Returns `201 Created` with the `spec_url`.
- **Behavior:** If the `id` is new, a record is created.
    - If the `id` exists, the registry may reject the request or create a new
      version, depending on the specific registry's implementation policy.

### 2. List Specifications

Used for discovery and browsing.

- **Endpoint:** `GET /specs`
- **Behavior:** Returns a collection of specification metadata. Responses can
  typically be filtered and paginated.

### 3. Retrieve Specification Metadata

Fetches the metadata for a specific identifier.

- **Endpoint:** `GET /specs/{id}`
- **Example Response:**

```json
{
  "id": "mci.mcisr",
  "type": "openapi",
  "description": "The MCI specification registry specification",
  "spec_url": "https://registry.example/specifications/mci.mcisr/file"
}
```

### 4. Download Specification Document

Retrieves the raw file using the `spec_url` provided in the metadata response.

- **Behavior:** Returns the raw document.
- **Headers:** Should include `Content-Type` (e.g., `text/yaml`) and
  `Content-Disposition: attachment`.
- **Note:** While the registry provides a filename via `Content-Disposition`,
  MCI ignores this and saves the file using its **Specification Identifier**.
